---
import HeadMeta from '../components/HeadMeta.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import Projects from '../components/Projects.astro'
import LatestPosts from '../components/LatestPosts.astro'
import { getLatestPostList } from '../lib/notion.js'

const title = "RealTong's Home"
const description = 'Using Notion as a CMS and Astro as a static site generator.'
// 从 Notion 获取最新文章列表
const latestPostData = await getLatestPostList(5)

import '../styles/globals.css'
---

<html>
  <HeadMeta title={title} description={description} />
  <body class="">
    <div
      class={'flex flex-col font-mono justify-between min-w-0 w-full h-screen overflow-y-scroll p-6 bg-[#FFF] dark:bg-[#212121] dark:text-gray-300'}
    >
      <div class="m-auto p-6">
        <Header />
        <Projects />
        <LatestPosts latestPostList={latestPostData} />
        <Footer />
      </div>
    </div>
  </body>
</html>
